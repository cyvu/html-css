<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/css/admin-panel.css" media="all" />
    <link rel="stylesheet" href="/css/form.css" media="all" />
    <title>Project School: HTML / CSS</title>
  </head>
  <body>
    <section id="admin-panel">
      <header>
        <nav>
          <a href="#usercontrol">User Control</a>
          <a href="#img">Image</a>
          <a href="#digitalpet">Digital Pet</a>
        </nav>
      </header>
    </section>

    <section id="usercontrol">
      <h1>Administrate Users</h1>

      <!-- action page.php is wrong fix or get fixed... -->
      <form id="form-users" method="get">
        <label for="search">Search:</label>
        <input type="search" id="search" name="search" /><br /><br />
        <button type="submit" name="getUsers" value="Get Users">
          Get Users
        </button>
        <button type="submit" name="getUser" value="Get User">Get User</button>
      </form>

      <br /><br />

      <form action="" method="get">
        <label for="fetchedUsers"
          >Fetch users and add interactions for each user.</label
        >
        <ul name="fetchedUsers">
          <li>Firstname</li>
          <li>Lastname</li>
          <li>Email</li>
        </ul>
        <input type="submit" value="Add User" />
        <input type="submit" value="Update User" />
        <input type="submit" value="Destroy User" />
      </form>

      <h3>Result:</h3>
      <pre id="result"></pre>
    </section>
    <script defer>
      getUsers("http://localhost:8000/users");

      async function getUsers(path) {
        await fetch(path, {
          method: "get",
          headers: { "Content-Type": "application/json" },
          mode: "cors", // no-cors, *cors, same-origin
          credentials: "same-origin", // include, *same-origin, omit
        })
          .then((response) => {
            console.log(response);
            if (!response.ok) {
              throw new Error(
                `Network response was not ok: ${response.status} ${response.statusText}`
              );
            }
            return response.json();
          })
          .then((data) => {
            console.log("Data received:", data);
          })
          .catch((error) => {
            console.error("There was a problem with the fetch request:", error);
          });
      }
    </script>
    <script async src="js/classes/Data.js">
      const data = new Data()

    </script>
  </body>
</html>
